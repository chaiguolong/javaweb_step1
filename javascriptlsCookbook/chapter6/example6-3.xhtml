<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Testing Memoization</title>
<script>
//<![CDATA[

window.onload=function() {

// Memoized Function
var fibonacci = function () {
   var memo = [0,1];
   var fib = function (n) {
      var result = memo[n];
      if (typeof result != "number") {
  result = fib(n -1) + fib(n - 2);
  memo[n] = result;
      }
      return result;
   };
   return fib;
}();

// non-memoized function
var fib = function (n) {
   return n < 2 ? n : fib(n - 1) + fib(n - 2);
};
// run non-memo function, with timer
console.time("non-memo");
for (var i = 0; i <= 10; i++) {
   console.log(i + " " + fib(i));
}
console.timeEnd("non-memo");

// now, memo function with timer
console.time("memo");
for (var i = 0; i <= 10; i++) {
   console.log(i + " " + fibonacci(i));
}
console.timeEnd("memo");

}
//--><!]]>
</script>
</head>
<body>
<p>content</p>
</body>
</html>
